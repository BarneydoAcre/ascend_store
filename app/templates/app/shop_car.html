{% extends 'base.html' %}

{% load static %}
{% block title %}Carrinho de compras{% endblock %}

{% block content %}
<div class="container">    
    <table class='table' style='margin-top: 10vh; background-color: rgb(150, 150, 150);'>
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Produto</th>
                <th scope="col">Quantidade</th>
                <th scope="col">Pre√ßo</th>
                <th scope="col">Remover</th>
            </tr>
        </thead>
        <tbody> 
            {% for s in shop_car.items %}
            <tr>
                <th scope="row">{{ s.id }}</th>
                <td>{{ s.title }}</td>
                <td>{{ s.quantity }}</td>
                <td>{{ s.unit_price }}</td>
                <td>
                    <form class='btn-remover-shop-car' action="/shop-car/delete/" method="post">
                        {% csrf_token %}
                        <input type="hidden" name="id-user" value="{{ user.id }}">
                        <input type="hidden" name="id-item" value="{{ s.id_car_item }}">
                        <button class='btn btn-primary' type='submit'>Remover</a>
                    </form>
                </td>
            </tr>
            {% endfor %}  
            <tr>
                <th scope="row"></th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>  
            <tr>
                <th scope="row"></th>
                <td><strong>Total da compra</strong></td>
                <td></td>
                <td>{{ total_price }}</td>
                <td></td>
            </tr>        
        </tbody>
    </table>
    <a href="{{ sdk.init_point }}" class='btn btn-primary'>Pagar</a>
</div>
</script>
{% endblock %}